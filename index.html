<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gimnasio Pro - Dashboard</title>
    <style>
        :root { --primary-blue: #4f46e5; --success-green: #16a34a; --bg-gray: #f9fafb; --text-dark: #1f2937; }
        body { font-family: 'Inter', sans-serif; margin: 0; background-color: #f3f4f6; color: var(--text-dark); }
        
        /* Navbar superior igual a tu captura */
        .navbar { background: white; padding: 10px 40px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e5e7eb; }
        .logo { color: #4f46e5; font-weight: bold; font-size: 1.2rem; }
        .user-info { display: flex; align-items: center; gap: 20px; font-size: 0.9rem; }
        .role-tag { color: #4f46e5; font-weight: 500; }
        .btn-logout { background: #ef4444; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; }

        .container { padding: 40px; max-width: 1200px; margin: auto; }
        h1 { font-size: 1.8rem; margin-bottom: 30px; }

        /* Selector de Rol para la demo */
        .role-selector { background: #fff; padding: 15px; border-radius: 8px; margin-bottom: 30px; border: 1px dashed #4f46e5; }

        /* Grid de Cards */
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        
        .card { background: white; padding: 25px; border-radius: 12px; border: 1px solid #e5e7eb; transition: 0.2s; display: none; }
        .card.visible { display: block; }
        .card:hover { transform: translateY(-3px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        
        .card.blue { border-top: 4px solid var(--primary-blue); }
        .card.green { border: 2px solid var(--success-green); }
        
        .card h3 { margin: 0 0 10px 0; font-size: 1.1rem; }
        .card.blue h3 { color: var(--primary-blue); }
        .card.green h3 { color: var(--success-green); }
        
        .card p { font-size: 0.9rem; color: #6b7280; margin-bottom: 8px; }
        .permission-note { font-size: 0.75rem; color: #9ca3af; }
        .permission-note.green { color: var(--success-green); }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="logo">Gimnasio Pro</div>
        <div class="user-info">
            <span id="display-user">Usuario: invitado</span>
            <span id="display-role" class="role-tag">Rol: publico</span>
            <button class="btn-logout">Cerrar Sesión</button>
        </div>
    </nav>

    <div class="container">
        <div class="role-selector">
            <label><strong>Simular Usuario:</strong></label>
            <select id="rolePicker" onchange="updateDashboard()">
                <option value="publico">Público General</option>
                <option value="recepcionista">Recepcionista (recepcion_mañana)</option>
                <option value="instructor">Instructor (maestro_instructor)</option>
                <option value="jefe">Jefe / Admin (admin_gym)</option>
            </select>
            <small>← Selecciona un rol para ver cómo cambian los permisos en tiempo real.</small>
        </div>

        <h1 id="welcome-text">Dashboard Principal</h1>

        <div class="dashboard-grid">
            <div class="card blue" data-roles="jefe,recepcionista">
                <h3>Ver Miembros</h3>
                <p>Accede a la lista de miembros registrados.</p>
                <p class="permission-note">(Requiere permiso SELECT en miembro)</p>
            </div>

            <div class="card green" data-roles="jefe,recepcionista">
                <h3>Agregar Miembro</h3>
                <p>Registra un nuevo cliente en el sistema.</p>
                <p class="permission-note">(Requiere permiso INSERT en miembro)</p>
            </div>

            <div class="card blue" data-roles="jefe,recepcionista">
                <h3>Ver Pagos</h3>
                <p>Consulta el historial de pagos de miembros.</p>
                <p class="permission-note">(Requiere permiso SELECT en pago)</p>
            </div>

            <div class="card blue" data-roles="jefe,recepcionista,instructor">
                <h3>Ver Inscripciones</h3>
                <p>Revisa quién está inscrito en cada área.</p>
                <p class="permission-note">(Permiso SELECT en inscripcion)</p>
            </div>

            <div class="card blue" data-roles="jefe,recepcionista,instructor,publico">
                <h3>Ver Clases</h3>
                <p>Revisa el horario de clases e instructores.</p>
                <p class="permission-note green">(Permiso SELECT en clase es común)</p>
            </div>

            <div class="card blue" data-roles="jefe,publico">
                <h3>Ver Tutores</h3>
                <p>Lista de instructores disponibles.</p>
                <p class="permission-note">(Requiere permiso SELECT en instructor)</p>
            </div>

            <div class="card blue" data-roles="jefe,instructor,recepcionista">
                <h3>Pasar Asistencia</h3>
                <p>Registra la entrada de miembros a clases.</p>
                <p class="permission-note">(Requiere permiso INSERT/UPDATE en asistencia)</p>
            </div>

            <div class="card blue" data-roles="jefe,publico">
                <h3>Ver Salas</h3>
                <p>Consulta disponibilidad de salas de entrenamiento.</p>
                <p class="permission-note">(Permiso SELECT en sala)</p>
            </div>
        </div>
    </div>

    <script>
        const userMap = {
            'publico': 'general_publico',
            'recepcionista': 'recepcion_mañana',
            'instructor': 'maestro_instructor',
            'jefe': 'admin_gym'
        };

        function updateDashboard() {
            const selectedRole = document.getElementById('rolePicker').value;
            const cards = document.querySelectorAll('.card');
            
            // Actualizar textos de la barra superior
            document.getElementById('display-user').innerText = `Usuario: ${userMap[selectedRole]}`;
            document.getElementById('display-role').innerText = `Rol: ${selectedRole}`;

            // Filtrar cards según el atributo data-roles
            cards.forEach(card => {
                const allowedRoles = card.getAttribute('data-roles').split(',');
                if (allowedRoles.includes(selectedRole)) {
                    card.classList.add('visible');
                } else {
                    card.classList.remove('visible');
                }
            });
        }

        // Ejecutar al cargar la página
        window.onload = updateDashboard;
    </script>
</body>
</html>
